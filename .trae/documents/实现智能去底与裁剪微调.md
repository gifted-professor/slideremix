## 目标
解决“裁切面积不准”和“背景色差严重”的视觉问题，实现图片元素与 PPT 背景的完美融合。

## 核心策略
1.  **智能去底 (Auto Background Removal)**：
    - 引入基于 Canvas 的颜色键（Color Key）算法。
    - **自动取样**：分析裁剪区域四角的像素颜色，自动确定背景色。
    - **消除色差**：将与背景色相似的像素转为透明，彻底消除“矩形贴图感”。
2.  **优化裁剪范围**：
    - 将默认的“外扩 2px”策略调整为**“可变缩放”**。
    - 默认**内缩 1px** (`inflate: -1`)，剔除边缘杂色。
    - 提供 UI 允许用户微调裁剪范围（切多了可以补回来，切少了可以扩出去）。

## 具体实现步骤

### 1. 升级裁剪服务 (`services/imageCrop.ts`)
- 新增 `removeBackground` 处理逻辑：
  - 采样裁剪后图像的边缘像素（四角及边线）。
  - 计算颜色距离，将背景色像素的 Alpha 通道设为 0。
  - 支持 `tolerance`（容差）参数，控制去底的敏感度。
- 增强 `cropBase64Region`：
  - 支持负数 `inflatePx`（实现内缩裁剪）。

### 2. 状态管理 (`App.tsx`)
- 新增 `elementSettings` 状态，存储每个元素的个性化配置：
  ```typescript
  interface ElementSetting {
    renderMode: 'svg' | 'image';
    removeBg: boolean;      // 是否开启去底
    bgTolerance: number;    // 去底容差 (0-100)
    cropPadding: number;    // 裁剪缩放 (-5 到 +10 px)
  }
  ```
- 默认配置：`renderMode: 'svg'`, `removeBg: false`, `cropPadding: -1`。
- 当用户切换到图片模式时，应用默认优化参数。

### 3. UI 交互增强 (`components/SlideRenderer.tsx`)
- 为图片模式的元素添加**迷你浮动工具栏**（悬浮或选中时显示）：
  - **开关**：`去除背景`（点击即自动计算并去底）。
  - **滑块**：`容差`（仅在开启去底时显示，微调去底范围）。
  - **滑块**：`边缘修整`（调整裁剪框大小，解决“面积有问题”）。
- 实时预览：拖动滑块时实时更新裁剪结果（需防抖）。

### 4. 导出适配
- PPTX 导出时，读取 `imageByElementId` 中的最终处理结果（已去底的 PNG），直接嵌入。

## 预期效果
- **面积修正**：通过内缩或手动修整，去除多余的边缘内容。
- **背景融合**：开启“去除背景”后，图片将变为透明底 PNG，无缝融入任意 PPT 背景色，消除色差块。